/* ===== MOBILE SPECIFIC OPTIMIZATIONS ===== */

/* 防止水平滚动 */
html, body {
  overflow-x: hidden;
  width: 100%;
}

/* 改善触摸体验 */
.nav-link,
.tech-badge,
.project-card,
.card-hover {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* 移动端特定的交互优化 */
@media (max-width: 768px) {
  /* 减少动画强度 */
  .hero-avatar:hover {
    transform: scale(1.05) rotate(-3deg);
  }
  
  .project-card:hover {
    transform: scale(1.02) translateY(-4px);
  }
  
  .card-hover:hover {
    transform: scale(1.02) translateY(-2px);
  }
  
  .tech-badge:hover {
    transform: scale(1.02);
  }
  
  /* 优化点击区域 */
  .nav-link {
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* 改善可读性 */
  body {
    font-size: 16px;
    line-height: 1.5;
  }
  
  /* 优化表单和输入 */
  input, textarea, select {
    font-size: 16px; /* 防止iOS缩放 */
  }
  
  /* 优化滚动 */
  .projects-container {
    -webkit-overflow-scrolling: touch;
    scroll-padding: 1rem;
  }
}

/* 小屏幕设备特别优化 */
@media (max-width: 480px) {
  /* 更紧凑的间距 */
  .main-container {
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
  }
  
  .section {
    margin-bottom: 2.5rem;
  }
  
  /* 优化可点击区域 */
  .nav-link {
    padding: 0.75rem 1rem;
    min-width: 60px;
  }
  
  /* 改善视觉层次 */
  .hero-subtitle {
    margin-bottom: 0.75rem;
  }
  
  /* 优化项目卡片在小屏幕上的显示 */
  .project-card {
    scroll-snap-align: start;
  }
}

/* 超小屏幕设备优化 */
@media (max-width: 360px) {
  .main-container {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
  
  .hero-section {
    padding: 0 0.25rem;
  }
  
  .projects-container {
    padding: 1rem 0.125rem 1.5rem 0.5rem;
  }
  
  .project-card {
    min-width: max(260px, fit-content);
    max-width: 280px;
    padding: 1rem;
  }
}

/* 横屏手机优化 */
@media (max-height: 500px) and (orientation: landscape) {
  .main-container {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
  
  .hero-section {
    margin-bottom: 1.5rem;
  }
  
  .section {
    margin-bottom: 1.5rem;
  }
  
  .nav-container {
    padding: 0.5rem 1rem;
  }
  
  .hero-avatar {
    margin-bottom: 0.5rem;
  }
  
  .hero-subtitle {
    margin-bottom: 0.25rem;
  }
}

/* 高DPI屏幕优化 */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .hero-avatar-img,
  .nav-avatar {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* iOS Safari 特定优化 */
@supports (-webkit-touch-callout: none) {
  .nav-link,
  .tech-badge,
  .project-card {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
}

/* 深色模式适配提示（暂时注释，可根据需要启用） */
/*
@media (prefers-color-scheme: dark) {
  .page-layout {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #1e1b4b 100%);
  }
  
  .card-base {
    background: rgba(30, 41, 59, 0.6);
    border-color: rgba(71, 85, 105, 0.3);
  }
}
*/

/* 减少动画偏好设置适配 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .hero-avatar:hover,
  .project-card:hover,
  .card-hover:hover,
  .tech-badge:hover {
    transform: none;
  }
}
